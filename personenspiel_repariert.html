<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Personen-Lernspiel (ohne Babel)</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>

    <script>
        const { useState } = React;

        const personen = [
            { name: 'Peter Käser', rolle: 'Ich-Erzähler, Protagonist', funktion: 'Schulmeister von Gytiwyl', eigenschaften: ['fleißig', 'arm', 'scharfer Beobachter', 'empfindsam', 'verletzter Stolz'], textstellen: 'S. 4 ff.: Selbstvorstellung', kategorie: 'Protagonist' },
            { name: 'Frau Käser (Bäbi)', rolle: 'Ehefrau', funktion: 'Emotionale Stütze, häusliche Perspektive', eigenschaften: ['fürsorglich', 'realistisch', 'erschöpft'], textstellen: 'S. 4-5: Schwächeanfall', kategorie: 'Familie' },
            { name: 'Schulkommissär', rolle: 'Vertreter der Obrigkeit', funktion: 'Schulaufsicht, entscheidet über Anstellungen', eigenschaften: ['freundlich', 'machtvoll', 'pragmatisch'], textstellen: 'S. 96 ff.', kategorie: 'Obrigkeit' },
            { name: 'Pfarrer', rolle: 'Kirchliche Autorität', funktion: 'Teil der Auswahlkommission', eigenschaften: ['vorsichtig', 'konventionell'], textstellen: 'S. 96 ff.', kategorie: 'Obrigkeit' },
            { name: 'Ammann', rolle: 'Bauernvertreter / Gerichtsass', funktion: 'Soziale Kontrolle, lokale Macht', eigenschaften: ['selbstbewusst', 'urteilend nach Äußerlichkeiten'], textstellen: 'S. 96-100', kategorie: 'Dorfgemeinschaft' },
            { name: 'Vater Käser', rolle: 'Weber, Vater', funktion: 'Herkunft und Prägung', eigenschaften: ['bäuerlich', 'kränklich', 'Weber'], textstellen: 'S. 12 ff.', kategorie: 'Familie' },
            { name: 'Mutter Käser', rolle: 'Mutter', funktion: 'Prägende Kindheitserinnerungen', eigenschaften: ['pragmatisch', 'kränklich', 'bäuerlich'], textstellen: 'S. 10 & 18 ff.', kategorie: 'Familie' },
            { name: 'Toni, der Küher', rolle: 'Nebenfigur', funktion: 'Bäuerlicher Charakter, Milieu', eigenschaften: ['bäuerlich', 'charakteristisch fürs Dorf'], textstellen: 'Verschiedene Stellen', kategorie: 'Nebenfiguren' }
        ];

        const kategorieColor = {
            'Protagonist': 'from-purple-500 to-pink-600',
            'Familie': 'from-blue-500 to-cyan-600',
            'Obrigkeit': 'from-red-500 to-orange-600',
            'Dorfgemeinschaft': 'from-green-500 to-emerald-600',
            'Nebenfiguren': 'from-gray-500 to-slate-600'
        };

        function App() {
            const [aktuellerIndex, setAktuellerIndex] = useState(0);
            const [zeigeDetails, setZeigeDetails] = useState(false);
            const [gelerntePersonen, setGelerntePersonen] = useState([]);

            const aktuellePerson = personen[aktuellerIndex];

            const naechste = () => {
                if (aktuellerIndex < personen.length - 1) {
                    setAktuellerIndex(aktuellerIndex + 1);
                    setZeigeDetails(false);
                }
            };

            const vorige = () => {
                if (aktuellerIndex > 0) {
                    setAktuellerIndex(aktuellerIndex - 1);
                    setZeigeDetails(false);
                }
            };

            const alsGelerntMarkieren = () => {
                if (!gelerntePersonen.includes(aktuellerIndex)) {
                    setGelerntePersonen([...gelerntePersonen, aktuellerIndex]);
                }
            };

            return React.createElement('div', { className: 'min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 flex items-center justify-center p-4' },
                React.createElement('div', { className: 'bg-white rounded-2xl shadow-2xl p-8 max-w-2xl w-full' },
                    React.createElement('div', { className: 'text-center mb-6' },
                        React.createElement('h1', { className: 'text-3xl font-bold text-orange-600 mb-2' }, 'Personen lernen'),
                        React.createElement('p', { className: 'text-gray-600' }, `Person ${aktuellerIndex + 1} von ${personen.length}`)
                    ),
                    React.createElement('div', { className: `bg-gradient-to-r ${kategorieColor[aktuellePerson.kategorie]} rounded-xl p-6 mb-6 text-white min-h-[300px]` },
                        React.createElement('div', { className: 'mb-4' },
                            React.createElement('span', { className: 'bg-white bg-opacity-30 px-3 py-1 rounded-full text-sm font-semibold' },
                                aktuellePerson.kategorie
                            )
                        ),
                        React.createElement('h2', { className: 'text-3xl font-bold mb-3' }, aktuellePerson.name),
                        React.createElement('p', { className: 'text-xl mb-4 text-white text-opacity-90' }, aktuellePerson.rolle),
                        zeigeDetails ? React.createElement('div', { className: 'space-y-3 text-sm' },
                            React.createElement('div', null,
                                React.createElement('p', { className: 'font-semibold mb-1' }, 'Funktion:'),
                                React.createElement('p', { className: 'text-white text-opacity-90' }, aktuellePerson.funktion)
                            ),
                            React.createElement('div', null,
                                React.createElement('p', { className: 'font-semibold mb-1' }, 'Eigenschaften:'),
                                React.createElement('p', { className: 'text-white text-opacity-90' }, aktuellePerson.eigenschaften.join(', '))
                            ),
                            React.createElement('div', null,
                                React.createElement('p', { className: 'font-semibold mb-1' }, 'Textstellen:'),
                                React.createElement('p', { className: 'text-white text-opacity-90' }, aktuellePerson.textstellen)
                            )
                        ) : React.createElement('button', {
                            onClick: () => setZeigeDetails(true),
                            className: 'bg-white text-gray-800 px-5 py-2 rounded-lg font-semibold hover:bg-opacity-90 transition mt-4'
                        }, 'Details anzeigen')
                    ),
                    React.createElement('div', { className: 'flex gap-3 mb-4' },
                        React.createElement('button', {
                            onClick: vorige,
                            disabled: aktuellerIndex === 0,
                            className: 'flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 transition'
                        }, '← Zurück'),
                        React.createElement('button', {
                            onClick: naechste,
                            disabled: aktuellerIndex === personen.length - 1,
                            className: 'flex-1 bg-orange-600 text-white py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:bg-orange-700 transition'
                        }, 'Weiter →')
                    ),
                    React.createElement('button', {
                        onClick: alsGelerntMarkieren,
                        className: `w-full py-3 rounded-lg font-semibold transition ${
                            gelerntePersonen.includes(aktuellerIndex)
                                ? 'bg-green-500 text-white'
                                : 'bg-green-100 text-green-700 hover:bg-green-200'
                        }`
                    }, gelerntePersonen.includes(aktuellerIndex) ? '✓ Gelernt' : 'Als gelernt markieren'),
                    React.createElement('div', { className: 'mt-6 text-center' },
                        React.createElement('p', { className: 'text-gray-600 font-semibold' },
                            `Fortschritt: ${gelerntePersonen.length} von ${personen.length} gelernt`
                        ),
                        React.createElement('div', { className: 'w-full bg-gray-200 rounded-full h-2 mt-2' },
                            React.createElement('div', {
                                className: 'bg-green-500 h-2 rounded-full transition-all duration-300',
                                style: { width: `${(gelerntePersonen.length / personen.length) * 100}%` }
                            })
                        )
                    )
                )
            );
        }

        ReactDOM.render(React.createElement(App), document.getElementById('root'));
    </script>
</body>
</html>
