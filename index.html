<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Personenspiel mit Quiz</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>

<!-- QUIZ-BEREICH -->
<div id="quiz" class="hidden bg-white rounded-2xl shadow-2xl p-8 max-w-2xl w-full mt-6 mx-auto">
  <h2 class="text-2xl font-bold text-orange-600 mb-4">Quiz: Figuren & Gesellschaft</h2>
  <div id="quiz-container" class="space-y-6"></div>
  <button id="submit-quiz" class="bg-green-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-600 transition mt-4">
    Auswerten
  </button>
  <p id="quiz-result" class="text-lg font-bold mt-4 text-center"></p>
</div>

<button onclick="document.getElementById('quiz').classList.remove('hidden')" 
        class="bg-blue-500 text-white px-4 py-2 rounded-lg mt-4 mx-auto block">
  Quiz starten
</button>

<script>
  const quizFragen = [
    {
      frage: "Welche Rolle spielt Peter Käser im gesellschaftlichen Spannungsfeld?",
      optionen: [
        "Er ist ein passiver Beobachter.",
        "Er spiegelt soziale Konflikte zwischen Obrigkeit und Gesellschaft.",
        "Er vertritt die Obrigkeit."
      ],
      korrekt: 1
    },
    {
      frage: "Welche Funktion erfüllt der Ammann?",
      optionen: [
        "Er steht für soziale Kontrolle und konservative Macht.",
        "Er unterstützt Peter Käser.",
        "Er repräsentiert die Kirche."
      ],
      korrekt: 0
    },
    {
      frage: "Welche Figur steht für die öffentliche Meinung?",
      optionen: [
        "Pfarrer",
        "Hauptbase (Presse)",
        "Schulkommissär"
      ],
      korrekt: 1
    },
    {
      frage: "Welche Aussage trifft auf die Eltern von Peter Käser zu?",
      optionen: [
        "Sie stehen für bäuerliche Herkunft und Aufstiegsstreben.",
        "Sie sind Vertreter der Obrigkeit.",
        "Sie verkörpern soziale Kontrolle."
      ],
      korrekt: 0
    },
    {
      frage: "Welche Bedeutung hat die Kommissionsszene (S. 96–100)?",
      optionen: [
        "Sie zeigt die Machtverhältnisse zwischen Obrigkeit und Dorf.",
        "Sie schildert einen persönlichen Streit zwischen Peter und seiner Frau.",
        "Sie ist ein Beispiel für bäuerlichen Alltag."
      ],
      korrekt: 0
    },
    {
      frage: "Frau Käser steht im Text vor allem für...",
      optionen: [
        "wirtschaftliche Sicherheit",
        "häusliche Perspektive und Armut",
        "öffentliche Macht"
      ],
      korrekt: 1
    },
    {
      frage: "Richtig oder falsch: Der Schulkommissär repräsentiert die Dorfgemeinschaft.",
      optionen: ["Richtig", "Falsch"],
      korrekt: 1
    },
    {
      frage: "Richtig oder falsch: Die Presse ('Hauptbase') verkörpert öffentliche Meinung.",
      optionen: ["Richtig", "Falsch"],
      korrekt: 0
    },
    {
      frage: "Richtig oder falsch: Die Pfarrerfigur zeigt vor allem revolutionäre Haltung.",
      optionen: ["Richtig", "Falsch"],
      korrekt: 1
    }
  ];

  const quizContainer = document.getElementById('quiz-container');

  quizFragen.forEach((q, index) => {
    const div = document.createElement('div');
    div.innerHTML = `
      <p class="font-semibold mb-2">${index+1}. ${q.frage}</p>
      ${q.optionen.map((opt, i) => `
        <label class="block mb-1">
          <input type="radio" name="frage${index}" value="${i}" class="mr-2">
          ${opt}
        </label>
      `).join('')}
    `;
    quizContainer.appendChild(div);
  });

  document.getElementById('submit-quiz').addEventListener('click', () => {
    let punkte = 0;
    quizFragen.forEach((q, i) => {
      const ausgewählt = document.querySelector(\`input[name="frage\${i}"]:checked\`);
      if (ausgewählt && Number(ausgewählt.value) === q.korrekt) {
        punkte++;
      }
    });
    document.getElementById('quiz-result').textContent = 
      \`Du hast \${punkte} von \${quizFragen.length} Fragen richtig beantwortet.\`;
  });
</script>

</body>
</html>
